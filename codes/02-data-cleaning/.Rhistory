return(a)
}
manipute(municipality_info)
select(df,municipality_info)
manipute(municipality_info)
library(tidyverse)
df=read_csv("D:/501/codes and outputs/data/districts.csv")
df
#delete all the "["and"]"
manipute<-function(x){
a<-df$x%>%
#select(x)%>%
str_replace("[","")
return(a)
}
manipute(municipality_info)
library(tidyverse)
df=read_csv("D:/501/codes and outputs/data/districts.csv")
df
#delete all the "["and"]"
manipute<-function(x){
str_replace(df$x,"[","")
#a<-df$x %>%
#select(x)%>%
#str_replace("[","")
return(a)
}
manipute(municipality_info)
library(tidyverse)
df=read_csv("D:/501/codes and outputs/data/districts.csv")
#delete all the "["and"]"
manipute(municipality_info)
library(tidyverse)
df=read_csv("D:/501/codes and outputs/data/districts.csv")
#delete all the "["and"]"
a<-df %>%
select(municipality_info,unemployment_rate,commited_crimes)%>%
str_replace("[","")%>%
str_replace("]","")%>%
a
library(tidyverse)
df=read_csv("D:/501/codes and outputs/data/districts.csv")
#delete all the "["and"]"
a<-df %>%
select(municipality_info,unemployment_rate,commited_crimes)%>%
str_replace("[","")%>%
str_replace("]","")
library(tidyverse)
df=read_csv("D:/501/codes and outputs/data/districts.csv")
df
#delete all the "["and"]"
manipute<-function(df,x){
#str_replace(df$x,"[","")
a<-df %>%
select(x)%>%
str_replace("[","")%>%
return(a)
}
manipute(df,municipality_info)
library(tidyverse)
df=read_csv("D:/501/codes and outputs/data/districts.csv")
df
#delete all the "["and"]"
manipute<-function(df,x){
#str_replace(df$x,"[","")
a<-df$x%>%
str_replace("[","")%>%
return(a)
}
manipute(df,municipality_info)
library(tidyverse)
df=read_csv("D:/501/codes and outputs/data/districts.csv")
df
#delete all the "["and"]"
manipute<-function(df,x){
#str_replace(df$x,"[","")
a<-df$x %>%
str_replace("[","")%>%
return(a)
}
manipute(df,municipality_info)
library(tidyverse)
df=read_csv("D:/501/codes and outputs/data/districts.csv")
df
#delete all the "["and"]"
manipute<-function(x){
#str_replace(df$x,"[","")
a<-str_replace(x,"[","")%>%
return(a)
}
df$municipality_info<-manipute(df$municipality_info)
library(tidyverse)
df=read_csv("D:/501/codes and outputs/data/districts.csv")
df
#delete all the "["and"]"
manipute<-function(x){
#str_replace(df$x,"[","")
a<-str_replace(x,"[","")
return(a)
}
df$municipality_info<-manipute(df$municipality_info)
df
str_replace(df$municipality_info,"[","")
sub(df$municipality_info,"[","",r)
sub(df$municipality_info,"[","",r)
sub(df$municipality_info,"[","")
sub(df$municipality_info,"[","")
sapply(f$municipality_info,sub{"[",""})
substr(df$municipality_info,1,-1)
substr(df$municipality_info,1,5)
substr(df$municipality_info,2,-1)
substr("[",'',df$municipality_info)
sub("[",'',df$municipality_info)
sub('"["','',df$municipality_info)
sub("'['",'',df$municipality_info)
sub('''[''','',df$municipality_info)
sub('\[','',df$municipality_info)
sub(r'\[','',df$municipality_info)
sub('r\[','',df$municipality_info)
sub('r\['/],'',df$municipality_info)
gsub('[','',df$municipality_info)
gsub('[]','',df$municipality_info)
gsub('[[]','',df$municipality_info)
gsub('[[]]','',df$municipality_info)
gsub('[]]','',df$municipality_info)
manipute(df$municipality_info)
sapply(df$municipality_info,manipute)
library(tidyverse)
df=read_csv("D:/501/codes and outputs/data/districts.csv")
df
#delete all the "["and"]"
manipute<-function(x){
x<-gsub('[ [ ]','',x)
x<-gsub('[ ] ]','',x)
return(a)
}
df$municipality_info<-manipute(df$municipality_info)
library(tidyverse)
df=read_csv("D:/501/codes and outputs/data/districts.csv")
df
#delete all the "["and"]"
manipute<-function(x){
x<-gsub('[ [ ]','',x)
x<-gsub('[ ] ]','',x)
return(x)
}
df$municipality_info<-manipute(df$municipality_info)
df
sapply(df$municipality_info,manipute)
library(tidyverse)
df=read_csv("D:/501/codes and outputs/data/districts.csv")
df
#delete all the "["and"]"
manipute<-function(x){
x<-gsub('[[]','',x)
x<-gsub('[]]','',x)
return(x)
}
df$municipality_info<-manipute(df$municipality_info)
df
sapply(df$municipality_info,manipute)
manipute(df$municipality_info)
df$municipality_info<-manipute(df$municipality_info)
library(tidyverse)
df=read_csv("D:/501/codes and outputs/data/districts.csv")
df
#delete all the "["and"]"
manipute<-function(x){
x<-gsub('[[]','',x)
x<-gsub('[]]','',x)
return(x)
}
df$municipality_info<-manipute(df$municipality_info)
df
library(tidyverse)
df=read_csv("D:/501/codes and outputs/data/districts.csv")
df
#delete all the "["and"]"
manipute<-function(x){
x<-gsub('[[]','',x)
x<-gsub('[]]','',x)
return(x)
}
df$municipality_info<-manipute(df$municipality_info)
df$unemployment_rate<-manipute(df$unemployment_rate)
df$commited_crimes<-manipute(df$commited_crimes)
df
seperate(df$municipality_info,c(N_num_pop_0_500,N_num_pop_500_2000,N_num_pop_2000_10000,N_num_pop_10000),'[,]')
separate(df$municipality_info,c(N_num_pop_0_500,N_num_pop_500_2000,N_num_pop_2000_10000,N_num_pop_10000),'[,]')
separate(df,col=municipality_info,into=c(N_num_pop_0_500,N_num_pop_500_2000,N_num_pop_2000_10000,N_num_pop_10000),sep="[,]")
separate(df,col=municipality_info,into=c("N_num_pop_0_500","N_num_pop_500_2000","N_num_pop_2000_10000","N_num_pop_10000"),sep="[,]")
df
library(tidyverse)
df=read_csv("D:/501/codes and outputs/data/districts.csv")
df
#delete all the "["and"]"
manipute<-function(x){
x<-gsub('[[]','',x)
x<-gsub('[]]','',x)
return(x)
}
df$municipality_info<-manipute(df$municipality_info)
df$unemployment_rate<-manipute(df$unemployment_rate)
df$commited_crimes<-manipute(df$commited_crimes)
df$municipality_info.str.split
df<-df %>%
separate(col=municipality_info,into=c("N_num_pop_0_500","N_num_pop_500_2000","N_num_pop_2000_10000","N_num_pop_10000"),sep="[,]") %>%
separate(col=unemployment_rate,into=c('unemployment_rate_95','unemployment_rate_96'),sep="[,]") %>%
separate(col=commited_crimes,into=c('commited_crimes_95','commited_crimes_96'),sep="[,]")
df
library(tidyverse)
df=read_csv("D:/501/codes and outputs/data/districts.csv")
df
#delete all the "["and"]"
manipute<-function(x){
x<-gsub('[[]','',x)
x<-gsub('[]]','',x)
return(x)
}
df$municipality_info<-manipute(df$municipality_info)
df$unemployment_rate<-manipute(df$unemployment_rate)
df$commited_crimes<-manipute(df$commited_crimes)
df$municipality_info.str.split
df<-df %>%
separate(col=municipality_info,into=c("N_num_pop_0_500","N_num_pop_500_2000","N_num_pop_2000_10000","N_num_pop_10000"),sep="[,]") %>%
separate(col=unemployment_rate,into=c('unemployment_rate_95','unemployment_rate_96'),sep="[,]") %>%
separate(col=commited_crimes,into=c('commited_crimes_95','commited_crimes_96'),sep="[,]")%>%
select(-(municipality_info,commited_crimes))
library(tidyverse)
df=read_csv("D:/501/codes and outputs/data/districts.csv")
df
#delete all the "["and"]"
manipute<-function(x){
x<-gsub('[[]','',x)
x<-gsub('[]]','',x)
return(x)
}
df$municipality_info<-manipute(df$municipality_info)
df$unemployment_rate<-manipute(df$unemployment_rate)
df$commited_crimes<-manipute(df$commited_crimes)
df$municipality_info.str.split
df<-df %>%
separate(col=municipality_info,into=c("N_num_pop_0_500","N_num_pop_500_2000","N_num_pop_2000_10000","N_num_pop_10000"),sep="[,]") %>%
separate(col=unemployment_rate,into=c('unemployment_rate_95','unemployment_rate_96'),sep="[,]") %>%
separate(col=commited_crimes,into=c('commited_crimes_95','commited_crimes_96'),sep="[,]")%>%
select(-(municipality_info:commited_crimes))
rlang::last_error()
df<-df %>%
separate(col=municipality_info,into=c("N_num_pop_0_500","N_num_pop_500_2000","N_num_pop_2000_10000","N_num_pop_10000"),sep="[,]") %>%
separate(col=unemployment_rate,into=c('unemployment_rate_95','unemployment_rate_96'),sep="[,]") %>%
separate(col=commited_crimes,into=c('commited_crimes_95','commited_crimes_96'),sep="[,]")%>%
df[N_num_pop_0_500:unemployment_rate_95]
df<-df %>%
separate(col=municipality_info,into=c("N_num_pop_0_500","N_num_pop_500_2000","N_num_pop_2000_10000","N_num_pop_10000"),sep="[,]") %>%
separate(col=unemployment_rate,into=c('unemployment_rate_95','unemployment_rate_96'),sep="[,]") %>%
separate(col=commited_crimes,into=c('commited_crimes_95','commited_crimes_96'),sep="[,]")%>%
df[,N_num_pop_0_500:unemployment_rate_95]
df=read_csv("D:/501/codes and outputs/data/districts.csv")
df
library(tidyverse)
df=read_csv("D:/501/codes and outputs/data/districts.csv")
df
#delete all the "["and"]"
manipute<-function(x){
x<-gsub('[[]','',x)
x<-gsub('[]]','',x)
return(x)
}
df$municipality_info<-manipute(df$municipality_info)
df$unemployment_rate<-manipute(df$unemployment_rate)
df$commited_crimes<-manipute(df$commited_crimes)
df$municipality_info.str.split
#split the columns
df<-df %>%
separate(col=municipality_info,into=c("N_num_pop_0_500","N_num_pop_500_2000","N_num_pop_2000_10000","N_num_pop_10000"),sep="[,]") %>%
separate(col=unemployment_rate,into=c('unemployment_rate_95','unemployment_rate_96'),sep="[,]") %>%
separate(col=commited_crimes,into=c('commited_crimes_95','commited_crimes_96'),sep="[,]")%>%
#
b<-df %>%
select(-(id:entrepreneur_1000))%>%
as.numeric(,errors='coerce')
#split the columns
df<-df %>%
separate(col=municipality_info,into=c("N_num_pop_0_500","N_num_pop_500_2000","N_num_pop_2000_10000","N_num_pop_10000"),sep="[,]") %>%
separate(col=unemployment_rate,into=c('unemployment_rate_95','unemployment_rate_96'),sep="[,]") %>%
separate(col=commited_crimes,into=c('commited_crimes_95','commited_crimes_96'),sep="[,]")%>%
#
b<-df %>%
select(-(id:entrepreneur_1000))%>%
as.numeric()
#
b<-df %>%
select(-(id:entrepreneur_1000))%>%
as.numeric()
b<-df %>%
select(-(id:entrepreneur_1000))
b
df=read_csv("D:/501/codes and outputs/data/districts.csv")
df
b<-df %>%
select(-(id:entrepreneur_1000))
#as.numeric()
b
df=read_csv("D:/501/codes and outputs/data/districts.csv")
df
as.numeric(df$unemployment_rate_95)
library(tidyverse)
df=read_csv("D:/501/codes and outputs/data/districts.csv")
df
#delete all the "["and"]"
manipute<-function(x){
x<-gsub('[[]','',x)
x<-gsub('[]]','',x)
return(x)
}
df$municipality_info<-manipute(df$municipality_info)
df$unemployment_rate<-manipute(df$unemployment_rate)
df$commited_crimes<-manipute(df$commited_crimes)
df$municipality_info.str.split
#split the columns
df<-df %>%
separate(col=municipality_info,into=c("N_num_pop_0_500","N_num_pop_500_2000","N_num_pop_2000_10000","N_num_pop_10000"),sep="[,]") %>%
separate(col=unemployment_rate,into=c('unemployment_rate_95','unemployment_rate_96'),sep="[,]") %>%
separate(col=commited_crimes,into=c('commited_crimes_95','commited_crimes_96'),sep="[,]")%>%
as.numeric(df$unemployment_rate_95)
library(tidyverse)
df=read_csv("D:/501/codes and outputs/data/districts.csv")
df
#delete all the "["and"]"
manipute<-function(x){
x<-gsub('[[]','',x)
x<-gsub('[]]','',x)
return(x)
}
df$municipality_info<-manipute(df$municipality_info)
df$unemployment_rate<-manipute(df$unemployment_rate)
df$commited_crimes<-manipute(df$commited_crimes)
df$municipality_info.str.split
#split the columns
df<-df %>%
separate(col=municipality_info,into=c("N_num_pop_0_500","N_num_pop_500_2000","N_num_pop_2000_10000","N_num_pop_10000"),sep="[,]") %>%
separate(col=unemployment_rate,into=c('unemployment_rate_95','unemployment_rate_96'),sep="[,]") %>%
separate(col=commited_crimes,into=c('commited_crimes_95','commited_crimes_96'),sep="[,]")%>%
as.numeric(df$unemployment_rate_95)
p3a=ppois(11,3*4)
p3a=ppois(11,3*4)
p3a
p3b=1-ppois(0,1/4)
p3b=1-ppois(0,1/4)
p3b
p41=dnbinom(6,3,prob=0.5)
p41
p42=mean(rnbinom(10000,3,prob=0.5)==6)
p42=mean(rnbinom(10000,3,prob=0.5)==6)
p42
p43q
p43a=1 -dnbinom(5, 3, prob = 0.5)-dnbinom(4, 3, prob = 0.5)-dnbinom(3, 3, prob = 0.5) - dnbinom(2, 3, prob = 0.5)-dnbinom(1, 3, prob = 0.5)-dnbinom(0, 3, prob = 0.5)
p43a
p43a1=1 -dnbinom(5, 3, prob = 0.5)-dnbinom(4, 3, prob = 0.5)-dnbinom(3, 3, prob = 0.5) - dnbinom(2, 3, prob = 0.5)-dnbinom(1, 3, prob = 0.5)-dnbinom(0, 3, prob = 0.5)
p43a2=1-pnbinom(5,3,prob=0.5)
p43a1
p43a2
p43b=mean(rnbinom(100000,3,prob=0.5)>=6)
p43b
x <- 0:50
plot(x,dbinom(x,size=50,prob=.33),type="h")
library("extraDistr")
plot(x,dunif(x,min=0,max=50),type = 'h')
x<-0:1
plot(0:1,dbern(0:1,prob=.33),type="h")
x<--5:30
plot(x,dpois(x,lambda = 10),type="h")
x<-0:20
plot(x,dgeom(x,prob=0.5),type="h")
x<-0:20
plot(x,dhyper(x,m=45,n=30,k=20),type="h")
x<-
plot(x,dnbinom(x,size=10,prob=0.5),type="h")
correct_a1=dbinom(4,15,0.25)
correct_a2 = pbinom(4,15,.25) - pbinom(3,15,.25)
correct_a1
correct_b1=dbinom(4,15,0.25)+dbinom(3,15,0.25)+dbinom(2,15,0.25)+dbinom(1,15,0.25)+dbinom(0,15,0.25)
correct_b1
correct_c1=pbinom(4,15,0.25)
correct_c1
library(tidyverse)
library(tidyverse)
read_csv("C:/Windows/System32/anly-501-project-FlynnFlag/data/00-raw-data/truth.csv")
df.isna()
#
is.na(df)
library(tidyverse)
df<-read_csv("C:/Windows/System32/anly-501-project-FlynnFlag/data/00-raw-data/truth.csv")
#add the label column
df$label="truth"
#
is.na(df)
#see whether there is some na
is.na(df).sum()
library(tidyverse)
df<-read_csv("C:/Windows/System32/anly-501-project-FlynnFlag/data/00-raw-data/truth.csv")
#see whether there is some na
is.na(df).sum()
library(tidyverse)
df<-read_csv("C:/Windows/System32/anly-501-project-FlynnFlag/data/00-raw-data/truth.csv")
#see whether there is some na
sum(is.na(df))
#add the label column
df$label="truth"
#
library(tidyverse)
df<-read_csv("C:/Windows/System32/anly-501-project-FlynnFlag/data/00-raw-data/truth.csv")
#see whether there is some na
print(sum(is.na(df)))
#add the label column
df$label="truth"
#
library(tidyverse)
df<-read_csv("C:/Windows/System32/anly-501-project-FlynnFlag/data/00-raw-data/truth.csv")
#see whether there is some na
print(sum(is.na(df)))
print(df[duplicated(df),])
#add the label column
df$label="truth"
#
#
df
library(tidyverse)
df<-read_csv("C:/Windows/System32/anly-501-project-FlynnFlag/data/00-raw-data/truth.csv")
#see whether there is some missing values and duplicates
print(sum(is.na(df)))
print(df[duplicated(df),])
#add the label column
df$label="truth"
#transform cities to country
df2$location[which(df2$location == "U.S.A")] = 'USA'
library(tidyverse)
df<-read_csv("C:/Windows/System32/anly-501-project-FlynnFlag/data/00-raw-data/truth.csv")
#see whether there is some missing values and duplicates
print(sum(is.na(df)))
print(df[duplicated(df),])
#add the label column
df$label="truth"
#transform cities to country
df$location[which(df2$location == "U.S.A")] = 'USA'
library(tidyverse)
df<-read_csv("C:/Windows/System32/anly-501-project-FlynnFlag/data/00-raw-data/truth.csv")
#see whether there is some missing values and duplicates
print(sum(is.na(df)))
print(df[duplicated(df),])
#add the label column
df$label="truth"
#transform cities to country
df$location[which(df$location == "U.S.A")] = 'USA'
df$location[which(df$location == "Washington, DC")] = 'USA'
df$location[which(df$location == "'New York, NY'")] = 'USA'
library(tidyverse)
df<-read_csv("C:/Windows/System32/anly-501-project-FlynnFlag/data/00-raw-data/truth.csv")
#see whether there is some missing values and duplicates
print(sum(is.na(df)))
print(df[duplicated(df),])
#add the label column
df$label="truth"
#transform cities to country
df$location[which(df$location == "U.S.A")] = 'USA'
df$location[which(df$location == "Washington, DC")] = 'USA'
df$location[which(df$location == "'New York, NY'")] = 'USA'
df$text=gsub(pattern="(f|ht)tp(s?)://\\S+","",df$text,perl=T)
write_csv(df,"../../data/01-modified-data/labeled_truth_R.csv")
library(tidyverse)
df<-read_csv("C:/Windows/System32/anly-501-project-FlynnFlag/data/00-raw-data/truth.csv")
#see whether there is some missing values and duplicates
print(sum(is.na(df)))
print(df[duplicated(df),])
#add the label column
df$label="truth"
#transform cities to country
df$location[which(df$location == "U.S.A")] = 'USA'
df$location[which(df$location == "Washington, DC")] = 'USA'
df$location[which(df$location == "'New York, NY'")] = 'USA'
df$text=gsub(pattern="(f|ht)tp(s?)://\\S+","",df$text,perl=T)
write_csv(df,"../../data/01-modified-data/labeled_truth_R.csv")
getwd()
library(tidyverse)
df<-read_csv("C:/Windows/System32/anly-501-project-FlynnFlag/data/00-raw-data/truth.csv")
#see whether there is some missing values and duplicates
print(sum(is.na(df)))
print(df[duplicated(df),])
#add the label column
df$label="truth"
#transform cities to country
df$location[which(df$location == "U.S.A")] = 'USA'
df$location[which(df$location == "Washington, DC")] = 'USA'
df$location[which(df$location == "'New York, NY'")] = 'USA'
df$text=gsub(pattern="(f|ht)tp(s?)://\\S+","",df$text,perl=T)
write_csv(df,"../../data/01-modified-data/labeled_truth_R.csv")
setwd("C:\Windows\System32\anly-501-project-FlynnFlag\codes\02-data-cleaning")
setwd("C:/Windows/System32/anly-501-project-FlynnFlag/codes/02-data-cleaning/data_cleaning_r.R")
setwd("C:/Windows/System32/anly-501-project-FlynnFlag/codes/02-data-cleaning")
library(tidyverse)
df<-read_csv("C:/Windows/System32/anly-501-project-FlynnFlag/data/00-raw-data/truth.csv")
#see whether there is some missing values and duplicates
print(sum(is.na(df)))
print(df[duplicated(df),])
#add the label column
df$label="truth"
#transform cities to country
df$location[which(df$location == "U.S.A")] = 'USA'
df$location[which(df$location == "Washington, DC")] = 'USA'
df$location[which(df$location == "'New York, NY'")] = 'USA'
df$text=gsub(pattern="(f|ht)tp(s?)://\\S+","",df$text,perl=T)
write_csv(df,"../../data/01-modified-data/labeled_truth_R.csv")
